{"ast":null,"code":"var _jsxFileName = \"/home/ferreira/Documents/Bootcamp Rocketseat/desafios/GoFinances/src/pages/Import/index.tsx\";\nimport React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Header from '../../components/Header';\nimport FileList from '../../components/FileList';\nimport Upload from '../../components/Upload';\nimport { Container, Title, ImportFileContainer, Footer } from './styles';\nimport alert from \"../../assets/alert.svg\";\n\nconst Import = () => {\n  const [uploadedFiles, setUploadedFiles] = useState([]);\n  const history = useHistory();\n\n  async function handleUpload() {\n    const data = new FormData();\n    const csvFile = document.querySelector('.file');\n    console.log(csvFile === null || csvFile === void 0 ? void 0 : csvFile.attributes);\n\n    try {\n      /*\n      const response = await api.post('/transactions/import', data);\n      console.log(response.data); */\n    } catch (err) {// console.log(err.response.error);\n    }\n  }\n\n  function submitFile(files) {}\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    size: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Importar uma transa\\xE7\\xE3o\"), /*#__PURE__*/React.createElement(ImportFileContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Upload, {\n    onUpload: submitFile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 11\n    }\n  }), !!uploadedFiles.length && /*#__PURE__*/React.createElement(FileList, {\n    files: uploadedFiles,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 38\n    }\n  }), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: alert,\n    alt: \"Alert\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 15\n    }\n  }), \"Permitido apenas arquivos .CSV\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleUpload,\n    type: \"button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, \"Enviar\")))));\n};\n\nexport default Import;","map":{"version":3,"sources":["/home/ferreira/Documents/Bootcamp Rocketseat/desafios/GoFinances/src/pages/Import/index.tsx"],"names":["React","useState","useHistory","Header","FileList","Upload","Container","Title","ImportFileContainer","Footer","Import","uploadedFiles","setUploadedFiles","history","handleUpload","data","FormData","csvFile","document","querySelector","console","log","attributes","err","submitFile","files","length","alert"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAIA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,QAAP,MAAqB,2BAArB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AAEA,SAASC,SAAT,EAAoBC,KAApB,EAA2BC,mBAA3B,EAAgDC,MAAhD,QAA8D,UAA9D;;;AAWA,MAAMC,MAAgB,GAAG,MAAM;AAC7B,QAAM,CAACC,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAc,EAAd,CAAlD;AACA,QAAMY,OAAO,GAAGX,UAAU,EAA1B;;AAEA,iBAAeY,YAAf,GAA6C;AAC3C,UAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACA,UAAMC,OAAO,GAAGC,QAAQ,CAACC,aAAT,CAAuB,OAAvB,CAAhB;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYJ,OAAZ,aAAYA,OAAZ,uBAAYA,OAAO,CAAEK,UAArB;;AAEA,QAAI;AACF;;;AAGD,KAJD,CAIE,OAAOC,GAAP,EAAY,CACZ;AACD;AACF;;AAED,WAASC,UAAT,CAAoBC,KAApB,EAAyC,CAAE;;AAE3C,sBACE,uDACE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,OAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oCADF,eAEE,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAQ,IAAA,QAAQ,EAAED,UAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,EAEG,CAAC,CAACb,aAAa,CAACe,MAAhB,iBAA0B,oBAAC,QAAD;AAAU,IAAA,KAAK,EAAEf,aAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAF7B,eAIE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,GAAG,EAAEgB,KAAV;AAAiB,IAAA,GAAG,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,mCADF,eAKE;AAAQ,IAAA,OAAO,EAAEb,YAAjB;AAA+B,IAAA,IAAI,EAAC,QAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALF,CAJF,CAFF,CAFF,CADF;AAsBD,CA3CD;;AA6CA,eAAeJ,MAAf","sourcesContent":["import React, { useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport filesize from 'filesize';\n\nimport Header from '../../components/Header';\nimport FileList from '../../components/FileList';\nimport Upload from '../../components/Upload';\n\nimport { Container, Title, ImportFileContainer, Footer } from './styles';\n\nimport alert from '../../assets/alert.svg';\nimport api from '../../services/api';\n\ninterface FileProps {\n  file: File;\n  name: string;\n  readableSize: string;\n}\n\nconst Import: React.FC = () => {\n  const [uploadedFiles, setUploadedFiles] = useState<FileProps[]>([]);\n  const history = useHistory();\n\n  async function handleUpload(): Promise<void> {\n    const data = new FormData();\n    const csvFile = document.querySelector('.file');\n\n    console.log(csvFile?.attributes);\n\n    try {\n      /*\n      const response = await api.post('/transactions/import', data);\n      console.log(response.data); */\n    } catch (err) {\n      // console.log(err.response.error);\n    }\n  }\n\n  function submitFile(files: File[]): void {}\n\n  return (\n    <>\n      <Header size=\"small\" />\n      <Container>\n        <Title>Importar uma transação</Title>\n        <ImportFileContainer>\n          <Upload onUpload={submitFile} />\n          {!!uploadedFiles.length && <FileList files={uploadedFiles} />}\n\n          <Footer>\n            <p>\n              <img src={alert} alt=\"Alert\" />\n              Permitido apenas arquivos .CSV\n            </p>\n            <button onClick={handleUpload} type=\"button\">\n              Enviar\n            </button>\n          </Footer>\n        </ImportFileContainer>\n      </Container>\n    </>\n  );\n};\n\nexport default Import;\n"]},"metadata":{},"sourceType":"module"}